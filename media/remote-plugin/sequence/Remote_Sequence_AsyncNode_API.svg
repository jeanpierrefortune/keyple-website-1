<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3140px" preserveAspectRatio="none" style="width:1624px;height:3140px;" version="1.1" viewBox="0 0 1624 3140" width="1624px" zoomAndPan="magnify"><defs><filter height="1" id="bs6z81v2w0pae0" width="1" x="0" y="0"><feFlood flood-color="#ADD8E6" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="36" lengthAdjust="spacingAndGlyphs" textLength="856" x="381.5" y="57.3711">Keyple Remote Plugin - Async Node API (04/11/2020)</text><rect fill="#ADD8E6" height="133.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="295.7188"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="960.1563"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="2276.9219"/><rect fill="#ADD8E6" height="159.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="2348.9219"/><rect fill="#ADD8E6" height="18" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="2891.8438"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="340.4219"/><rect fill="#FFC0CB" height="734.4375" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="489.8281"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="497" y="1020.8594"/><rect fill="#FFC0CB" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="2129.5156"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="2419.625"/><rect fill="#FFC0CB" height="234.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="2657.7344"/><rect fill="#FFC0CB" height="60.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="973" y="429.125"/><rect fill="#FFC0CB" height="905.25" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="973" y="1224.2656"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="983" y="1926.1094"/><rect fill="#FFC0CB" height="149.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="973" y="2508.3281"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1453" y="1865.4063"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1453" y="2569.0313"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="148" x2="148" y1="275.7188" y2="2927.8438"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="496" x2="496" y1="275.7188" y2="2927.8438"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="983" x2="983" y1="275.7188" y2="2927.8438"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="1463" x2="1463" y1="275.7188" y2="2927.8438"/><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="266" x="16" y="175.2813"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="144" x="77" y="218.3477">nodeClient:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="238" x="30" y="253.5664">AsyncNodeClient</text><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="266" x="16" y="2925.8438"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="144" x="77" y="2968.9102">nodeClient:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="238" x="30" y="3004.1289">AsyncNodeClient</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="248" x="367" y="234.3477">userEndpointClient:</text><text fill="#000000" filter="url(#bs6z81v2w0pae0)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="290" x="346" y="269.5664">AsyncEndpointClient</text><ellipse cx="497" cy="99.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M497,115.2813 L497,169.2813 M471,131.2813 L523,131.2813 M497,169.2813 L471,199.2813 M497,169.2813 L523,199.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="248" x="367" y="2954.9102">userEndpointClient:</text><text fill="#000000" filter="url(#bs6z81v2w0pae0)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="290" x="346" y="2990.1289">AsyncEndpointClient</text><ellipse cx="497" cy="3016.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M497,3032.2813 L497,3086.2813 M471,3048.2813 L523,3048.2813 M497,3086.2813 L471,3116.2813 M497,3086.2813 L523,3116.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="260" x="847" y="234.3477">userEndpointServer:</text><text fill="#000000" filter="url(#bs6z81v2w0pae0)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="304" x="825" y="269.5664">AsyncEndpointServer</text><ellipse cx="983" cy="99.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M983,115.2813 L983,169.2813 M957,131.2813 L1009,131.2813 M983,169.2813 L957,199.2813 M983,169.2813 L1009,199.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="260" x="847" y="2954.9102">userEndpointServer:</text><text fill="#000000" filter="url(#bs6z81v2w0pae0)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="304" x="825" y="2990.1289">AsyncEndpointServer</text><ellipse cx="983" cy="3016.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M983,3032.2813 L983,3086.2813 M957,3048.2813 L1009,3048.2813 M983,3086.2813 L957,3116.2813 M983,3086.2813 L1009,3116.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="280" x="1323" y="175.2813"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="156" x="1385" y="218.3477">nodeServer:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="252" x="1337" y="253.5664">AsyncNodeServer</text><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="280" x="1323" y="2925.8438"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="156" x="1385" y="2968.9102">nodeServer:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="252" x="1337" y="3004.1289">AsyncNodeServer</text><rect fill="#ADD8E6" height="133.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="295.7188"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="960.1563"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="2276.9219"/><rect fill="#ADD8E6" height="159.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="2348.9219"/><rect fill="#ADD8E6" height="18" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="139" y="2891.8438"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="340.4219"/><rect fill="#FFC0CB" height="734.4375" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="489.8281"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="497" y="1020.8594"/><rect fill="#FFC0CB" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="2129.5156"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="2419.625"/><rect fill="#FFC0CB" height="234.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="487" y="2657.7344"/><rect fill="#FFC0CB" height="60.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="973" y="429.125"/><rect fill="#FFC0CB" height="905.25" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="973" y="1224.2656"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="983" y="1926.1094"/><rect fill="#FFC0CB" height="149.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="973" y="2508.3281"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1453" y="1865.4063"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1453" y="2569.0313"/><polygon fill="#A80036" points="463,332.4219,483,340.4219,463,348.4219,471,340.4219" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="159" x2="475" y1="340.4219" y2="340.4219"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="166" x="173" y="330.709">openSession (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="339" y="330.709">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="449" y="330.709">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="979" x2="959" y1="401.125" y2="393.125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="979" x2="959" y1="401.125" y2="409.125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="507" x2="981" y1="401.125" y2="401.125"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="521" y="391.4121">send asynchronous handshake</text><polygon fill="#A80036" points="171,421.125,151,429.125,171,437.125,163,429.125" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="159" x2="495" y1="429.125" y2="429.125"/><polygon fill="#A80036" points="529,481.8281,509,489.8281,529,497.8281,521,489.8281" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="517" x2="981" y1="489.8281" y2="489.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="94" x="541" y="480.1152">Session</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="507" x2="591" y1="550.5313" y2="550.5313"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="591" x2="591" y1="550.5313" y2="576.5313"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="509" x2="591" y1="576.5313" y2="576.5313"/><polygon fill="#A80036" points="529,568.5313,509,576.5313,529,584.5313,521,576.5313" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="196" x="521" y="540.8184">registerSession (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="717" y="540.8184">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="827" y="540.8184">, Session)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="507" x2="591" y1="637.2344" y2="637.2344"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="591" x2="591" y1="637.2344" y2="663.2344"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="509" x2="591" y1="663.2344" y2="663.2344"/><polygon fill="#A80036" points="529,655.2344,509,663.2344,529,671.2344,521,663.2344" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="521" y="627.5215">[...]ClientUtils.getAsyncNode ()</text><path d="M262,699.2344 L262,895.2344 A10,10 0 0 0 272,905.2344 L720,905.2344 A10,10 0 0 0 730,895.2344 L730,709.2344 L710,689.2344 L272,689.2344 A10,10 0 0 0 262,699.2344 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M710,689.2344 L710,704.2344 A5,5 0 0 0 715,709.2344 L730,709.2344 L710,689.2344 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="404" x="274" y="726.2246">To retrieve the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="426" x="274" y="758.9277">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="306" x="274" y="791.6309">to the client configuration :</text><ellipse cx="285" cy="815.0469" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="300" y="824.334">LocalService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="466" y="824.334">ClientUtils</text><ellipse cx="285" cy="847.75" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="300" y="857.0371">RemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="480" y="857.0371">ClientUtils</text><ellipse cx="285" cy="880.4531" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="238" x="300" y="889.7402">PoolRemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="538" y="889.7402">ClientUtils</text><polygon fill="#A80036" points="181,952.1563,161,960.1563,181,968.1563,173,960.1563" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="169" x2="485" y1="960.1563" y2="960.1563"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="106" x="193" y="950.4434">onOpen (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="299" y="950.4434">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="409" y="950.4434">)</text><polygon fill="#A80036" points="473,1012.8594,493,1020.8594,473,1028.8594,481,1020.8594" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="159" x2="485" y1="1020.8594" y2="1020.8594"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="178" x="173" y="1011.1465">sendMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="351" y="1011.1465">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="405" y="1011.1465">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="517" x2="601" y1="1081.5625" y2="1081.5625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="601" x2="601" y1="1081.5625" y2="1107.5625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="519" x2="601" y1="1107.5625" y2="1107.5625"/><polygon fill="#A80036" points="539,1099.5625,519,1107.5625,539,1115.5625,531,1107.5625" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="164" x="531" y="1071.8496">findSesssion (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="695" y="1071.8496">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="174" x="749" y="1071.8496">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="923" y="1071.8496">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="979" x2="959" y1="1168.2656" y2="1160.2656"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="979" x2="959" y1="1168.2656" y2="1176.2656"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="517" x2="981" y1="1168.2656" y2="1168.2656"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="356" x="531" y="1158.5527">send asynchronous message (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="887" y="1158.5527">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="941" y="1158.5527">)</text><polygon fill="#A80036" points="181,1188.2656,161,1196.2656,181,1204.2656,173,1196.2656" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="169" x2="485" y1="1196.2656" y2="1196.2656"/><polygon fill="#A80036" points="473,1216.2656,493,1224.2656,473,1232.2656,481,1224.2656" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="149" x2="485" y1="1224.2656" y2="1224.2656"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="993" x2="1077" y1="1284.9688" y2="1284.9688"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1077" x2="1077" y1="1284.9688" y2="1310.9688"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="995" x2="1077" y1="1310.9688" y2="1310.9688"/><polygon fill="#A80036" points="1015,1302.9688,995,1310.9688,1015,1318.9688,1007,1310.9688" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="196" x="1007" y="1275.2559">registerSession (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1203" y="1275.2559">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="174" x="1257" y="1275.2559">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1431" y="1275.2559">)</text><path d="M716,1346.9688 L716,1476.9688 A10,10 0 0 0 726,1486.9688 L1240,1486.9688 A10,10 0 0 0 1250,1476.9688 L1250,1356.9688 L1230,1336.9688 L726,1336.9688 A10,10 0 0 0 716,1346.9688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1230,1336.9688 L1230,1351.9688 A5,5 0 0 0 1235,1356.9688 L1250,1356.9688 L1230,1336.9688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="404" x="728" y="1373.959">It is necessary to identify the client</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="92" x="728" y="1406.6621">via the "</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="820" y="1406.6621">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="196" x="930" y="1406.6621">" field in the DTO</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="492" x="728" y="1439.3652">in order to be able to reply a new message</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="168" x="728" y="1472.0684">at a later date.</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="993" x2="1077" y1="1542.4844" y2="1542.4844"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1077" x2="1077" y1="1542.4844" y2="1568.4844"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="995" x2="1077" y1="1568.4844" y2="1568.4844"/><polygon fill="#A80036" points="1015,1560.4844,995,1568.4844,1015,1576.4844,1007,1568.4844" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="366" x="1007" y="1532.7715">[...]ServerUtils.getAsyncNode ()</text><path d="M748,1604.4844 L748,1800.4844 A10,10 0 0 0 758,1810.4844 L1206,1810.4844 A10,10 0 0 0 1216,1800.4844 L1216,1614.4844 L1196,1594.4844 L758,1594.4844 A10,10 0 0 0 748,1604.4844 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1196,1594.4844 L1196,1609.4844 A5,5 0 0 0 1201,1614.4844 L1216,1614.4844 L1196,1594.4844 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="406" x="760" y="1631.4746">To access the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="426" x="760" y="1664.1777">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="312" x="760" y="1696.8809">to the server configuration :</text><ellipse cx="771" cy="1720.2969" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="786" y="1729.584">RemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="124" x="966" y="1729.584">ServerUtils</text><ellipse cx="771" cy="1753" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="786" y="1762.2871">LocalService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="124" x="952" y="1762.2871">ServerUtils</text><ellipse cx="771" cy="1785.7031" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="786" y="1794.9902">PoolLocalService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="124" x="1010" y="1794.9902">ServerUtils</text><polygon fill="#A80036" points="1429,1857.4063,1449,1865.4063,1429,1873.4063,1437,1865.4063" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="993" x2="1441" y1="1865.4063" y2="1865.4063"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="150" x="1007" y="1855.6934">onMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1157" y="1855.6934">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1211" y="1855.6934">)</text><polygon fill="#A80036" points="1025,1918.1094,1005,1926.1094,1025,1934.1094,1017,1926.1094" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1013" x2="1451" y1="1926.1094" y2="1926.1094"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="178" x="1037" y="1916.3965">sendMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1215" y="1916.3965">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1269" y="1916.3965">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1003" x2="1087" y1="1986.8125" y2="1986.8125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1087" x2="1087" y1="1986.8125" y2="2012.8125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1005" x2="1087" y1="2012.8125" y2="2012.8125"/><polygon fill="#A80036" points="1025,2004.8125,1005,2012.8125,1025,2020.8125,1017,2012.8125" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="150" x="1017" y="1977.0996">findSession (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1167" y="1977.0996">dtoB</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="174" x="1221" y="1977.0996">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1395" y="1977.0996">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="497" x2="517" y1="2073.5156" y2="2065.5156"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="497" x2="517" y1="2073.5156" y2="2081.5156"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="497" x2="981" y1="2073.5156" y2="2073.5156"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="356" x="531" y="2063.8027">send asynchronous message (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="887" y="2063.8027">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="941" y="2063.8027">)</text><polygon fill="#A80036" points="1429,2093.5156,1449,2101.5156,1429,2109.5156,1437,2101.5156" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="993" x2="1441" y1="2101.5156" y2="2101.5156"/><polygon fill="#A80036" points="1005,2121.5156,985,2129.5156,1005,2137.5156,997,2129.5156" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="993" x2="1461" y1="2129.5156" y2="2129.5156"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="507" x2="591" y1="2190.2188" y2="2190.2188"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="591" x2="591" y1="2190.2188" y2="2216.2188"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="509" x2="591" y1="2216.2188" y2="2216.2188"/><polygon fill="#A80036" points="529,2208.2188,509,2216.2188,529,2224.2188,521,2216.2188" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="521" y="2180.5059">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="181,2268.9219,161,2276.9219,181,2284.9219,173,2276.9219" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="169" x2="485" y1="2276.9219" y2="2276.9219"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="150" x="193" y="2267.209">onMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="343" y="2267.209">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="397" y="2267.209">)</text><polygon fill="#A80036" points="473,2296.9219,493,2304.9219,473,2312.9219,481,2304.9219" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="149" x2="485" y1="2304.9219" y2="2304.9219"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="149" x2="243" y1="2322.9219" y2="2322.9219"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="243" x2="243" y1="2322.9219" y2="2348.9219"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="161" x2="243" y1="2348.9219" y2="2348.9219"/><polygon fill="#A80036" points="181,2340.9219,161,2348.9219,181,2356.9219,173,2348.9219" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="463,2411.625,483,2419.625,463,2427.625,471,2419.625" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="159" x2="475" y1="2419.625" y2="2419.625"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="172" x="173" y="2409.9121">closeSession (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="345" y="2409.9121">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="455" y="2409.9121">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="979" x2="959" y1="2480.3281" y2="2472.3281"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="979" x2="959" y1="2480.3281" y2="2488.3281"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="507" x2="981" y1="2480.3281" y2="2480.3281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="390" x="521" y="2470.6152">send asynchronous closeSession</text><polygon fill="#A80036" points="171,2500.3281,151,2508.3281,171,2516.3281,163,2508.3281" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="159" x2="495" y1="2508.3281" y2="2508.3281"/><polygon fill="#A80036" points="1429,2561.0313,1449,2569.0313,1429,2577.0313,1437,2569.0313" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="993" x2="1441" y1="2569.0313" y2="2569.0313"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="1007" y="2559.3184">onClose (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="1117" y="2559.3184">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1227" y="2559.3184">)</text><polygon fill="#A80036" points="1015,2589.0313,995,2597.0313,1015,2605.0313,1007,2597.0313" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="1003" x2="1461" y1="2597.0313" y2="2597.0313"/><polygon fill="#A80036" points="529,2649.7344,509,2657.7344,529,2665.7344,521,2657.7344" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="517" x2="981" y1="2657.7344" y2="2657.7344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="28" x="541" y="2648.0215">ok</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="507" x2="591" y1="2718.4375" y2="2718.4375"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="591" x2="591" y1="2718.4375" y2="2744.4375"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="509" x2="591" y1="2744.4375" y2="2744.4375"/><polygon fill="#A80036" points="529,2736.4375,509,2744.4375,529,2752.4375,521,2744.4375" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="326" x="521" y="2708.7246">unregisterSession (Session)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="507" x2="591" y1="2805.1406" y2="2805.1406"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="591" x2="591" y1="2805.1406" y2="2831.1406"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="509" x2="591" y1="2831.1406" y2="2831.1406"/><polygon fill="#A80036" points="529,2823.1406,509,2831.1406,529,2839.1406,521,2831.1406" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="521" y="2795.4277">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="181,2883.8438,161,2891.8438,181,2899.8438,173,2891.8438" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="169" x2="495" y1="2891.8438" y2="2891.8438"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="193" y="2882.1309">onClose (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="303" y="2882.1309">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="413" y="2882.1309">)</text><!--MD5=[1758c418f2aa8a483dcabc4504e4211b]
@startuml

title
    Keyple Remote Plugin - Async Node API (04/11/2020)
end title


skinparam Shadowing false
skinparam RoundCorner 10


participant "nodeClient:\n**AsyncNodeClient**" as nodeClient #LightBlue
actor "userEndpointClient:\n**<back:LightBlue>AsyncEndpointClient**" as userEndpointClient

actor "userEndpointServer:\n**<back:LightBlue>AsyncEndpointServer**" as userEndpointServer
participant "nodeServer:\n**AsyncNodeServer**" as nodeServer #LightBlue

activate nodeClient #LightBlue
nodeClient -> userEndpointClient : openSession (<color:green>sessionId</color>)
activate userEndpointClient #Pink
userEndpointClient ->> userEndpointServer : send asynchronous handshake
return
deactivate nodeClient

activate userEndpointServer #Pink
userEndpointServer - -> userEndpointClient : Session
deactivate userEndpointServer
activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : registerSession (<color:green>sessionId</color>, Session)
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
note over userEndpointClient
    To retrieve the node it is necessary
    to use the utility class corresponding
    to the client configuration :
    * **LocalService**ClientUtils
    * **RemotePlugin**ClientUtils
    * **PoolRemotePlugin**ClientUtils
end note
userEndpointClient -> nodeClient : onOpen (<color:green>sessionId</color>)
activate nodeClient #LightBlue
nodeClient -> userEndpointClient : sendMessage (<color:red>dtoA</color>)
activate userEndpointClient #LightYellow
userEndpointClient -> userEndpointClient : findSesssion (<color:red>dtoA</color><color:green>.getSessionId()</color>)
userEndpointClient ->> userEndpointServer : send asynchronous message (<color:red>dtoA</color>)
return
return
deactivate userEndpointClient

activate userEndpointServer #Pink
userEndpointServer -> userEndpointServer : registerSession (<color:red>dtoA</color><color:green>.getSessionId()</color>)
note over userEndpointServer
    It is necessary to identify the client
    via the "<color:green>sessionId</color>" field in the DTO
    in order to be able to reply a new message
    at a later date.
end note
userEndpointServer -> userEndpointServer : [...]ServerUtils.getAsyncNode ()
note over userEndpointServer
    To access the node it is necessary
    to use the utility class corresponding
    to the server configuration :
    * **RemotePlugin**ServerUtils
    * **LocalService**ServerUtils
    * **PoolLocalService**ServerUtils
end note
userEndpointServer -> nodeServer : onMessage (<color:red>dtoA</color>)
activate nodeServer #LightBlue
nodeServer -> userEndpointServer : sendMessage (<color:blue>dtoB</color>)
activate userEndpointServer #LightYellow
userEndpointServer -> userEndpointServer : findSession (<color:blue>dtoB</color><color:green>.getSessionId()</color>)
userEndpointServer ->> userEndpointClient : send asynchronous message (<color:blue>dtoB</color>)
return
return
deactivate userEndpointServer

activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
userEndpointClient -> nodeClient : onMessage (<color:blue>dtoB</color>)
activate nodeClient #LightBlue
return
deactivate userEndpointClient

nodeClient -> nodeClient
activate nodeClient #LightBlue

nodeClient -> userEndpointClient : closeSession (<color:green>sessionId</color>)
activate userEndpointClient #Pink
userEndpointClient ->> userEndpointServer : send asynchronous closeSession
return
deactivate nodeClient

activate userEndpointServer #Pink
userEndpointServer -> nodeServer : onClose (<color:green>sessionId</color>)
activate nodeServer #LightBlue
return
userEndpointServer - -> userEndpointClient : ok
deactivate userEndpointServer
activate userEndpointClient #Pink
userEndpointClient -> userEndpointClient : unregisterSession (Session)
userEndpointClient -> userEndpointClient : [...]ClientUtils.getAsyncNode ()
userEndpointClient -> nodeClient : onClose (<color:green>sessionId</color>)
deactivate userEndpointClient
activate nodeClient #LightBlue

@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-b944.34
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>