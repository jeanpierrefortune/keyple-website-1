<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3140px" preserveAspectRatio="none" style="width:1720px;height:3140px;" version="1.1" viewBox="0 0 1720 3140" width="1720px" zoomAndPan="magnify"><defs><filter height="1" id="bahcwof07oub30" width="1" x="0" y="0"><feFlood flood-color="#ADD8E6" result="flood"/><feComposite in="SourceGraphic" in2="flood" operator="over"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="36" lengthAdjust="spacingAndGlyphs" textLength="856" x="429.5" y="57.3711">Keyple Remote Plugin - Async Node API (03/11/2020)</text><rect fill="#ADD8E6" height="133.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="295.7188"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="960.1563"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="2276.9219"/><rect fill="#ADD8E6" height="159.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="2348.9219"/><rect fill="#ADD8E6" height="18" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="2891.8438"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="340.4219"/><rect fill="#FFC0CB" height="734.4375" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="489.8281"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="545" y="1020.8594"/><rect fill="#FFC0CB" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="2129.5156"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="2419.625"/><rect fill="#FFC0CB" height="234.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="2657.7344"/><rect fill="#FFC0CB" height="60.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1021" y="429.125"/><rect fill="#FFC0CB" height="905.25" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1021" y="1224.2656"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1031" y="1926.1094"/><rect fill="#FFC0CB" height="149.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1021" y="2508.3281"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1501" y="1865.4063"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1501" y="2569.0313"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="196" x2="196" y1="275.7188" y2="2927.8438"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="545" x2="545" y1="275.7188" y2="2927.8438"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="1030" x2="1030" y1="275.7188" y2="2927.8438"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 5.0,5.0;" x1="1511" x2="1511" y1="275.7188" y2="2927.8438"/><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="362" x="16" y="175.2813"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="140" x="127" y="218.3477">clientNode:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="334" x="30" y="253.5664">KeypleClientAsyncNode</text><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="362" x="16" y="2925.8438"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="140" x="127" y="2968.9102">clientNode:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="334" x="30" y="3004.1289">KeypleClientAsyncNode</text><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="248" x="415" y="234.3477">userClientEndpoint:</text><text fill="#000000" filter="url(#bahcwof07oub30)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="409" y="269.5664">KeypleClientAsync</text><ellipse cx="545" cy="99.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M545,115.2813 L545,169.2813 M519,131.2813 L571,131.2813 M545,169.2813 L519,199.2813 M545,169.2813 L571,199.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="248" x="415" y="2954.9102">userClientEndpoint:</text><text fill="#000000" filter="url(#bahcwof07oub30)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="260" x="409" y="2990.1289">KeypleClientAsync</text><ellipse cx="545" cy="3016.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M545,3032.2813 L545,3086.2813 M519,3048.2813 L571,3048.2813 M545,3086.2813 L519,3116.2813 M545,3086.2813 L571,3116.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="260" x="895" y="234.3477">userServerEndpoint:</text><text fill="#000000" filter="url(#bahcwof07oub30)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="274" x="888" y="269.5664">KeypleServerAsync</text><ellipse cx="1031" cy="99.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M1031,115.2813 L1031,169.2813 M1005,131.2813 L1057,131.2813 M1031,169.2813 L1005,199.2813 M1031,169.2813 L1057,199.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="260" x="895" y="2954.9102">userServerEndpoint:</text><text fill="#000000" filter="url(#bahcwof07oub30)" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="274" x="888" y="2990.1289">KeypleServerAsync</text><ellipse cx="1031" cy="3016.2813" fill="#FEFECE" rx="16" ry="16" style="stroke: #A80036; stroke-width: 4.0;"/><path d="M1031,3032.2813 L1031,3086.2813 M1005,3048.2813 L1057,3048.2813 M1031,3086.2813 L1005,3116.2813 M1031,3086.2813 L1057,3116.2813 " fill="none" style="stroke: #A80036; stroke-width: 4.0;"/><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="376" x="1323" y="175.2813"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="154" x="1434" y="218.3477">serverNode:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="348" x="1337" y="253.5664">KeypleServerAsyncNode</text><rect fill="#ADD8E6" height="98.4375" rx="10" ry="10" style="stroke: #A80036; stroke-width: 3.0;" width="376" x="1323" y="2925.8438"/><text fill="#000000" font-family="sans-serif" font-size="28" lengthAdjust="spacingAndGlyphs" textLength="154" x="1434" y="2968.9102">serverNode:</text><text fill="#000000" font-family="sans-serif" font-size="28" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="348" x="1337" y="3004.1289">KeypleServerAsyncNode</text><rect fill="#ADD8E6" height="133.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="295.7188"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="960.1563"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="2276.9219"/><rect fill="#ADD8E6" height="159.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="2348.9219"/><rect fill="#ADD8E6" height="18" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="187" y="2891.8438"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="340.4219"/><rect fill="#FFC0CB" height="734.4375" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="489.8281"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="545" y="1020.8594"/><rect fill="#FFC0CB" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="2129.5156"/><rect fill="#FFC0CB" height="88.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="2419.625"/><rect fill="#FFC0CB" height="234.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="535" y="2657.7344"/><rect fill="#FFC0CB" height="60.7031" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1021" y="429.125"/><rect fill="#FFC0CB" height="905.25" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1021" y="1224.2656"/><rect fill="#FFFFE0" height="175.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1031" y="1926.1094"/><rect fill="#FFC0CB" height="149.4063" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1021" y="2508.3281"/><rect fill="#ADD8E6" height="264.1094" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1501" y="1865.4063"/><rect fill="#ADD8E6" height="28" style="stroke: #A80036; stroke-width: 2.0;" width="20" x="1501" y="2569.0313"/><polygon fill="#A80036" points="511,332.4219,531,340.4219,511,348.4219,519,340.4219" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="207" x2="523" y1="340.4219" y2="340.4219"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="166" x="221" y="330.709">openSession (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="387" y="330.709">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="497" y="330.709">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1027" x2="1007" y1="401.125" y2="393.125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1027" x2="1007" y1="401.125" y2="409.125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="555" x2="1029" y1="401.125" y2="401.125"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="569" y="391.4121">send asynchronous handshake</text><polygon fill="#A80036" points="219,421.125,199,429.125,219,437.125,211,429.125" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="207" x2="543" y1="429.125" y2="429.125"/><polygon fill="#A80036" points="577,481.8281,557,489.8281,577,497.8281,569,489.8281" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="565" x2="1029" y1="489.8281" y2="489.8281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="94" x="589" y="480.1152">Session</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="555" x2="639" y1="550.5313" y2="550.5313"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="639" x2="639" y1="550.5313" y2="576.5313"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="557" x2="639" y1="576.5313" y2="576.5313"/><polygon fill="#A80036" points="577,568.5313,557,576.5313,577,584.5313,569,576.5313" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="196" x="569" y="540.8184">registerSession (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="765" y="540.8184">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="875" y="540.8184">, Session)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="555" x2="639" y1="637.2344" y2="637.2344"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="639" x2="639" y1="637.2344" y2="663.2344"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="557" x2="639" y1="663.2344" y2="663.2344"/><polygon fill="#A80036" points="577,655.2344,557,663.2344,577,671.2344,569,663.2344" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="569" y="627.5215">[...]ClientUtils.getAsyncNode ()</text><path d="M310,699.2344 L310,895.2344 A10,10 0 0 0 320,905.2344 L768,905.2344 A10,10 0 0 0 778,895.2344 L778,709.2344 L758,689.2344 L320,689.2344 A10,10 0 0 0 310,699.2344 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M758,689.2344 L758,704.2344 A5,5 0 0 0 763,709.2344 L778,709.2344 L758,689.2344 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="404" x="322" y="726.2246">To retrieve the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="426" x="322" y="758.9277">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="306" x="322" y="791.6309">to the client configuration :</text><ellipse cx="333" cy="815.0469" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="348" y="824.334">LocalService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="514" y="824.334">ClientUtils</text><ellipse cx="333" cy="847.75" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="348" y="857.0371">RemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="528" y="857.0371">ClientUtils</text><ellipse cx="333" cy="880.4531" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="238" x="348" y="889.7402">PoolRemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="118" x="586" y="889.7402">ClientUtils</text><polygon fill="#A80036" points="229,952.1563,209,960.1563,229,968.1563,221,960.1563" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="217" x2="533" y1="960.1563" y2="960.1563"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="106" x="241" y="950.4434">onOpen (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="347" y="950.4434">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="457" y="950.4434">)</text><polygon fill="#A80036" points="521,1012.8594,541,1020.8594,521,1028.8594,529,1020.8594" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="207" x2="533" y1="1020.8594" y2="1020.8594"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="178" x="221" y="1011.1465">sendMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="399" y="1011.1465">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="453" y="1011.1465">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="565" x2="649" y1="1081.5625" y2="1081.5625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="649" x2="649" y1="1081.5625" y2="1107.5625"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="567" x2="649" y1="1107.5625" y2="1107.5625"/><polygon fill="#A80036" points="587,1099.5625,567,1107.5625,587,1115.5625,579,1107.5625" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="164" x="579" y="1071.8496">findSesssion (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="743" y="1071.8496">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="174" x="797" y="1071.8496">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="971" y="1071.8496">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1027" x2="1007" y1="1168.2656" y2="1160.2656"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1027" x2="1007" y1="1168.2656" y2="1176.2656"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="565" x2="1029" y1="1168.2656" y2="1168.2656"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="356" x="579" y="1158.5527">send asynchronous message (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="935" y="1158.5527">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="989" y="1158.5527">)</text><polygon fill="#A80036" points="229,1188.2656,209,1196.2656,229,1204.2656,221,1196.2656" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="217" x2="533" y1="1196.2656" y2="1196.2656"/><polygon fill="#A80036" points="521,1216.2656,541,1224.2656,521,1232.2656,529,1224.2656" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="197" x2="533" y1="1224.2656" y2="1224.2656"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1041" x2="1125" y1="1284.9688" y2="1284.9688"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1125" x2="1125" y1="1284.9688" y2="1310.9688"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1043" x2="1125" y1="1310.9688" y2="1310.9688"/><polygon fill="#A80036" points="1063,1302.9688,1043,1310.9688,1063,1318.9688,1055,1310.9688" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="196" x="1055" y="1275.2559">registerSession (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1251" y="1275.2559">dtoA</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="174" x="1305" y="1275.2559">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1479" y="1275.2559">)</text><path d="M764,1346.9688 L764,1476.9688 A10,10 0 0 0 774,1486.9688 L1288,1486.9688 A10,10 0 0 0 1298,1476.9688 L1298,1356.9688 L1278,1336.9688 L774,1336.9688 A10,10 0 0 0 764,1346.9688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1278,1336.9688 L1278,1351.9688 A5,5 0 0 0 1283,1356.9688 L1298,1356.9688 L1278,1336.9688 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="404" x="776" y="1373.959">It is necessary to identify the client</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="92" x="776" y="1406.6621">via the "</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="868" y="1406.6621">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="196" x="978" y="1406.6621">" field in the DTO</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="492" x="776" y="1439.3652">in order to be able to reply a new message</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="168" x="776" y="1472.0684">at a later date.</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1041" x2="1125" y1="1542.4844" y2="1542.4844"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1125" x2="1125" y1="1542.4844" y2="1568.4844"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1043" x2="1125" y1="1568.4844" y2="1568.4844"/><polygon fill="#A80036" points="1063,1560.4844,1043,1568.4844,1063,1576.4844,1055,1568.4844" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="366" x="1055" y="1532.7715">[...]ServerUtils.getAsyncNode ()</text><path d="M796,1604.4844 L796,1800.4844 A10,10 0 0 0 806,1810.4844 L1254,1810.4844 A10,10 0 0 0 1264,1800.4844 L1264,1614.4844 L1244,1594.4844 L806,1594.4844 A10,10 0 0 0 796,1604.4844 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1244,1594.4844 L1244,1609.4844 A5,5 0 0 0 1249,1614.4844 L1264,1614.4844 L1244,1594.4844 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="406" x="808" y="1631.4746">To access the node it is necessary</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="426" x="808" y="1664.1777">to use the utility class corresponding</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="312" x="808" y="1696.8809">to the server configuration :</text><ellipse cx="819" cy="1720.2969" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="180" x="834" y="1729.584">RemotePlugin</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="124" x="1014" y="1729.584">ServerUtils</text><ellipse cx="819" cy="1753" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="166" x="834" y="1762.2871">LocalService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="124" x="1000" y="1762.2871">ServerUtils</text><ellipse cx="819" cy="1785.7031" fill="#000000" rx="5" ry="5" style="stroke: #000000; stroke-width: 0.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="224" x="834" y="1794.9902">PoolLocalService</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="124" x="1058" y="1794.9902">ServerUtils</text><polygon fill="#A80036" points="1477,1857.4063,1497,1865.4063,1477,1873.4063,1485,1865.4063" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1041" x2="1489" y1="1865.4063" y2="1865.4063"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="150" x="1055" y="1855.6934">onMessage (</text><text fill="#FF0000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1205" y="1855.6934">dtoA</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1259" y="1855.6934">)</text><polygon fill="#A80036" points="1073,1918.1094,1053,1926.1094,1073,1934.1094,1065,1926.1094" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1061" x2="1499" y1="1926.1094" y2="1926.1094"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="178" x="1085" y="1916.3965">sendMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1263" y="1916.3965">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1317" y="1916.3965">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1051" x2="1135" y1="1986.8125" y2="1986.8125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1135" x2="1135" y1="1986.8125" y2="2012.8125"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1053" x2="1135" y1="2012.8125" y2="2012.8125"/><polygon fill="#A80036" points="1073,2004.8125,1053,2012.8125,1073,2020.8125,1065,2012.8125" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="150" x="1065" y="1977.0996">findSession (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="1215" y="1977.0996">dtoB</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="174" x="1269" y="1977.0996">.getSessionId()</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1443" y="1977.0996">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="545" x2="565" y1="2073.5156" y2="2065.5156"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="545" x2="565" y1="2073.5156" y2="2081.5156"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="545" x2="1029" y1="2073.5156" y2="2073.5156"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="356" x="579" y="2063.8027">send asynchronous message (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="935" y="2063.8027">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="989" y="2063.8027">)</text><polygon fill="#A80036" points="1477,2093.5156,1497,2101.5156,1477,2109.5156,1485,2101.5156" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="1041" x2="1489" y1="2101.5156" y2="2101.5156"/><polygon fill="#A80036" points="1053,2121.5156,1033,2129.5156,1053,2137.5156,1045,2129.5156" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="1041" x2="1509" y1="2129.5156" y2="2129.5156"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="555" x2="639" y1="2190.2188" y2="2190.2188"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="639" x2="639" y1="2190.2188" y2="2216.2188"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="557" x2="639" y1="2216.2188" y2="2216.2188"/><polygon fill="#A80036" points="577,2208.2188,557,2216.2188,577,2224.2188,569,2216.2188" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="569" y="2180.5059">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="229,2268.9219,209,2276.9219,229,2284.9219,221,2276.9219" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="217" x2="533" y1="2276.9219" y2="2276.9219"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="150" x="241" y="2267.209">onMessage (</text><text fill="#0000FF" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="54" x="391" y="2267.209">dtoB</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="445" y="2267.209">)</text><polygon fill="#A80036" points="521,2296.9219,541,2304.9219,521,2312.9219,529,2304.9219" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="197" x2="533" y1="2304.9219" y2="2304.9219"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="197" x2="291" y1="2322.9219" y2="2322.9219"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="291" x2="291" y1="2322.9219" y2="2348.9219"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="209" x2="291" y1="2348.9219" y2="2348.9219"/><polygon fill="#A80036" points="229,2340.9219,209,2348.9219,229,2356.9219,221,2348.9219" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="#A80036" points="511,2411.625,531,2419.625,511,2427.625,519,2419.625" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="207" x2="523" y1="2419.625" y2="2419.625"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="172" x="221" y="2409.9121">closeSession (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="393" y="2409.9121">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="503" y="2409.9121">)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="1027" x2="1007" y1="2480.3281" y2="2472.3281"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1027" x2="1007" y1="2480.3281" y2="2488.3281"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="555" x2="1029" y1="2480.3281" y2="2480.3281"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="390" x="569" y="2470.6152">send asynchronous closeSession</text><polygon fill="#A80036" points="219,2500.3281,199,2508.3281,219,2516.3281,211,2508.3281" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="207" x2="543" y1="2508.3281" y2="2508.3281"/><polygon fill="#A80036" points="1477,2561.0313,1497,2569.0313,1477,2577.0313,1485,2569.0313" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="1041" x2="1489" y1="2569.0313" y2="2569.0313"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="1055" y="2559.3184">onClose (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="1165" y="2559.3184">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="1275" y="2559.3184">)</text><polygon fill="#A80036" points="1063,2589.0313,1043,2597.0313,1063,2605.0313,1055,2597.0313" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="1051" x2="1509" y1="2597.0313" y2="2597.0313"/><polygon fill="#A80036" points="577,2649.7344,557,2657.7344,577,2665.7344,569,2657.7344" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0; stroke-dasharray: 2.0,2.0;" x1="565" x2="1029" y1="2657.7344" y2="2657.7344"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="28" x="589" y="2648.0215">ok</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="555" x2="639" y1="2718.4375" y2="2718.4375"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="639" x2="639" y1="2718.4375" y2="2744.4375"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="557" x2="639" y1="2744.4375" y2="2744.4375"/><polygon fill="#A80036" points="577,2736.4375,557,2744.4375,577,2752.4375,569,2744.4375" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="326" x="569" y="2708.7246">unregisterSession (Session)</text><line style="stroke: #A80036; stroke-width: 2.0;" x1="555" x2="639" y1="2805.1406" y2="2805.1406"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="639" x2="639" y1="2805.1406" y2="2831.1406"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="557" x2="639" y1="2831.1406" y2="2831.1406"/><polygon fill="#A80036" points="577,2823.1406,557,2831.1406,577,2839.1406,569,2831.1406" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="360" x="569" y="2795.4277">[...]ClientUtils.getAsyncNode ()</text><polygon fill="#A80036" points="229,2883.8438,209,2891.8438,229,2899.8438,221,2891.8438" style="stroke: #A80036; stroke-width: 2.0;"/><line style="stroke: #A80036; stroke-width: 2.0;" x1="217" x2="543" y1="2891.8438" y2="2891.8438"/><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="241" y="2882.1309">onClose (</text><text fill="#008000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="110" x="351" y="2882.1309">sessionId</text><text fill="#000000" font-family="sans-serif" font-size="26" lengthAdjust="spacingAndGlyphs" textLength="8" x="461" y="2882.1309">)</text><!--MD5=[610931d2e755f1e34ba5fdf328c1e9e0]
@startuml

title
    Keyple Remote Plugin - Async Node API (03/11/2020)
end title


skinparam Shadowing false
skinparam RoundCorner 10


participant "clientNode:\n**KeypleClientAsyncNode**" as clientNode #LightBlue
actor "userClientEndpoint:\n**<back:LightBlue>KeypleClientAsync**" as userClientEndpoint

actor "userServerEndpoint:\n**<back:LightBlue>KeypleServerAsync**" as userServerEndpoint
participant "serverNode:\n**KeypleServerAsyncNode**" as serverNode #LightBlue

activate clientNode #LightBlue
clientNode -> userClientEndpoint : openSession (<color:green>sessionId</color>)
activate userClientEndpoint #Pink
userClientEndpoint ->> userServerEndpoint : send asynchronous handshake
return
deactivate clientNode

activate userServerEndpoint #Pink
userServerEndpoint - -> userClientEndpoint : Session
deactivate userServerEndpoint
activate userClientEndpoint #Pink
userClientEndpoint -> userClientEndpoint : registerSession (<color:green>sessionId</color>, Session)
userClientEndpoint -> userClientEndpoint : [...]ClientUtils.getAsyncNode ()
note over userClientEndpoint
    To retrieve the node it is necessary
    to use the utility class corresponding
    to the client configuration :
    * **LocalService**ClientUtils
    * **RemotePlugin**ClientUtils
    * **PoolRemotePlugin**ClientUtils
end note
userClientEndpoint -> clientNode : onOpen (<color:green>sessionId</color>)
activate clientNode #LightBlue
clientNode -> userClientEndpoint : sendMessage (<color:red>dtoA</color>)
activate userClientEndpoint #LightYellow
userClientEndpoint -> userClientEndpoint : findSesssion (<color:red>dtoA</color><color:green>.getSessionId()</color>)
userClientEndpoint ->> userServerEndpoint : send asynchronous message (<color:red>dtoA</color>)
return
return
deactivate userClientEndpoint

activate userServerEndpoint #Pink
userServerEndpoint -> userServerEndpoint : registerSession (<color:red>dtoA</color><color:green>.getSessionId()</color>)
note over userServerEndpoint
    It is necessary to identify the client
    via the "<color:green>sessionId</color>" field in the DTO
    in order to be able to reply a new message
    at a later date.
end note
userServerEndpoint -> userServerEndpoint : [...]ServerUtils.getAsyncNode ()
note over userServerEndpoint
    To access the node it is necessary
    to use the utility class corresponding
    to the server configuration :
    * **RemotePlugin**ServerUtils
    * **LocalService**ServerUtils
    * **PoolLocalService**ServerUtils
end note
userServerEndpoint -> serverNode : onMessage (<color:red>dtoA</color>)
activate serverNode #LightBlue
serverNode -> userServerEndpoint : sendMessage (<color:blue>dtoB</color>)
activate userServerEndpoint #LightYellow
userServerEndpoint -> userServerEndpoint : findSession (<color:blue>dtoB</color><color:green>.getSessionId()</color>)
userServerEndpoint ->> userClientEndpoint : send asynchronous message (<color:blue>dtoB</color>)
return
return
deactivate userServerEndpoint

activate userClientEndpoint #Pink
userClientEndpoint -> userClientEndpoint : [...]ClientUtils.getAsyncNode ()
userClientEndpoint -> clientNode : onMessage (<color:blue>dtoB</color>)
activate clientNode #LightBlue
return
deactivate userClientEndpoint

clientNode -> clientNode
activate clientNode #LightBlue

clientNode -> userClientEndpoint : closeSession (<color:green>sessionId</color>)
activate userClientEndpoint #Pink
userClientEndpoint ->> userServerEndpoint : send asynchronous closeSession
return
deactivate clientNode

activate userServerEndpoint #Pink
userServerEndpoint -> serverNode : onClose (<color:green>sessionId</color>)
activate serverNode #LightBlue
return
userServerEndpoint - -> userClientEndpoint : ok
deactivate userServerEndpoint
activate userClientEndpoint #Pink
userClientEndpoint -> userClientEndpoint : unregisterSession (Session)
userClientEndpoint -> userClientEndpoint : [...]ClientUtils.getAsyncNode ()
userClientEndpoint -> clientNode : onClose (<color:green>sessionId</color>)
deactivate userClientEndpoint
activate clientNode #LightBlue

@enduml

PlantUML version 1.2020.09(Sun May 10 12:51:06 CEST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.8+10-b944.34
Operating System: Windows 10
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>