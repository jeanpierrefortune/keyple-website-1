@startuml
title
    UC 2: RemoteServerPlugin - ObservableReader (07/10/2020)
end title

' == THEME ==

'Couleurs issues de : https://htmlcolorcodes.com/fr/tableau-de-couleur/tableau-de-couleur-design-plat/
skinparam Shadowing false
skinparam component {
    BorderColor #D4AC0D
    ' Red
    BackgroundColor<<red>> #FDEDEC
    BorderColor<<red>> #E74C3C
    ' Purple
    BackgroundColor<<purple>> #F4ECF7
    BorderColor<<purple>> #8E44AD
    ' blue
    BackgroundColor<<blue>> #EBF5FB
    BorderColor<<blue>> #3498DB
    ' Green
    BackgroundColor<<green>> #E9F7EF
    BorderColor<<green>> #27AE60
    ' Grey
    BackgroundColor<<grey>> #EAECEE
    BorderColor<<grey>> #2C3E50
}
hide <<red>> stereotype
hide <<purple>> stereotype
hide <<blue>> stereotype
hide <<green>> stereotype
hide <<grey>> stereotype

' == CONTENT ==

[Card] as Card
package "Client App" {
    [<i>Ticketing Service</i>] as slave
    package "Keyple Remote Native Lib" as nativeKeyple {
        [ObservableReader] as ObservableReader <<blue>>
        [NativeClientService] <<green>>
    }
}
package "Server App" {
    [<i>Remote Ticketing Service</i>] as master
    package "Keyple Remote Virtual Lib" as virtualKeyple {
        [RemoteServerPlugin] <<green>>
        [RemoteServerObservableReader] <<blue>>
    }
}

'utilisation
start -> slave
slave -> [NativeClientService]
slave -> [ObservableReader]
[NativeClientService] --> [ObservableReader]
[ObservableReader] --> [Card]

[NativeClientService] <-> [RemoteServerPlugin]
[NativeClientService] <- [RemoteServerObservableReader]

master -left-> [RemoteServerPlugin]
master -left-> [RemoteServerObservableReader]
[RemoteServerPlugin] --> [RemoteServerObservableReader]

Card .up.> [ObservableReader] #Blue : <color:blue>Card Event
[ObservableReader] .up.> slave #Blue : <color:blue>Card Event
[ObservableReader] .up.> [NativeClientService] #Blue : <color:blue>Card Event
[RemoteServerObservableReader] .> master #Blue : <color:blue>Card Event

[RemoteServerPlugin] ..> master #Green : <color:green>Reader\n<color:green>Connected\n<color:green>Event

@enduml